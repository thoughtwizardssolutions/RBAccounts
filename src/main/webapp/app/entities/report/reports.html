<div>
	<h2>Reports</h2>
	<jhi-alert></jhi-alert>
	<hr>
	<div class="row">
		<div class="form-group col-md-4" has-authority="ROLE_ORG_ADMIN">
			<div class="btn-group" uib-dropdown keyboard-nav>
				<button id="simple-btn-keyboard-nav" type="button" class="btn btn-primary" uib-dropdown-toggle>{{ vm.selectedDealer.firmName || 'All Dealers'}} <span class="caret"></span>
				</button>
				<ul class="dropdown-menu" uib-dropdown-menu role="menu"	aria-labelledby="simple-btn-keyboard-nav">
					<li role="menuitem" ng-repeat="dealer in vm.dealers" ng-click="vm.selectContact(dealer)"><a>{{dealer.firmName}}</a></li>
				</ul>
			</div>
		</div>
		<div class="form-group col-md-4">
			<div class="btn-group" uib-dropdown keyboard-nav>
				<button id="simple-btn-keyboard-nav" type="button"	class="btn btn-primary" uib-dropdown-toggle>{{ vm.selectedContact.firmName || 'Select Firm Name'}} <span class="caret"></span>
				</button>
				<ul class="dropdown-menu" uib-dropdown-menu role="menu"	aria-labelledby="simple-btn-keyboard-nav">
					<li role="menuitem" ng-repeat="invoice in vm.invoices"	ng-click="vm.selectContact(dealer)"><a>{{dealer.firmName}}</a></li>
				</ul>
			</div>
		</div>
	</div>
	<div class="row">
		<div class="form-group col-md-4">
			<label class="control-label" for="field_fromDate">From</label>
			<div class="input-group">
				<input id="field_fromDate" type="text" class="form-control"
					name="fromDate" datetime-picker="{{dateformat}}"
					ng-model="vm.search.fromDate"
					is-open="vm.datePickerOpenStatus.creationTime" /> <span
					class="input-group-btn">
					<button type="button" class="btn btn-default"
						ng-click="vm.openCalendar('creationTime')">
						<i class="glyphicon glyphicon-calendar"></i>
					</button>
				</span>
			</div>
		</div>
		<div class="form-group col-md-4">
			<label class="control-label" for="field_toDate">To</label>
			<div class="input-group">
				<input id="field_toDate" type="text" class="form-control"
					name="toDate" datetime-picker="{{dateformat}}"
					ng-model="vm.search.toDate"
					is-open="vm.datePickerOpenStatus.modificationTime" /> <span
					class="input-group-btn">
					<button type="button" class="btn btn-default"
						ng-click="vm.openCalendar('modificationTime')">
						<i class="glyphicon glyphicon-calendar"></i>
					</button>
				</span>
			</div>
		</div>
	</div>
	<div class="row">
		<div class="form-group col-md-4">
			<button type="submit" ng-disabled="form.$invalid" class="btn btn-primary" ng-click="vm.getData()">Search</button>
		</div>
		<div class="form-group col-md-4">
			<button type="submit" ng-disabled="vm.invoices.length === 0" class="btn btn-primary" ng-click="vm.exportData()">Export</button>
		</div>
	</div>
	<hr>
	<div id="exportable">
		<div class="table-responsive">
			<table class="jh-table table table-striped">
				<thead>
					<tr>
						<th><span>Invoice Number</span></th>
						<th><span>Date</span></th>
						<th><span>Customer Name</span></th>
						<th><span>Order Number</span></th>
						<th><span>Total Amount (Rs)</span></th>
					</tr>
				</thead>
				<tbody>
					<tr ng-repeat="invoice in vm.invoices track by invoice.id">
						<td><a ui-sref="invoice-detail({id:invoice.id})">{{invoice.invoiceNumber}}</a></td>
						<td>{{invoice.creationTime}}</td>
						<td>{{invoice.dealerId}}</td>
						<td>{{invoice.orderNumber}}</td>
						<td>{{invoice.totalAmount}}</td>
					</tr>
					<tr>
						<td></td>
						<td></td>
						<td></td>
						<td></td>
						<td><b>Total : Rs. {{vm.invoiceTotalAmount}}</b></td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>
</div>